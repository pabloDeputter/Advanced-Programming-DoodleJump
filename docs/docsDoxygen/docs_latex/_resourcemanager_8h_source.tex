\hypertarget{_resourcemanager_8h_source}{}\doxysection{Resourcemanager.\+h}
\label{_resourcemanager_8h_source}\index{/Users/pablodeputter/Documents/GitHub/Advanced-\/Programming-\/DoodleJump/game/include/util/Resourcemanager.h@{/Users/pablodeputter/Documents/GitHub/Advanced-\/Programming-\/DoodleJump/game/include/util/Resourcemanager.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//}}
\DoxyCodeLine{2 \textcolor{comment}{// Created by Pablo Deputter on 29/11/2021.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#ifndef DOODLEJUMP\_RESOURCEMANAGER\_H}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#define DOODLEJUMP\_RESOURCEMANAGER\_H}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}SFML/Graphics.hpp"{}}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}SFML/Audio.hpp"{}}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}model/Entity.h"{}}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}util/Exception.h"{}}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include <utility>}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include <typeinfo>}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_utils}{Utils}} \{}
\DoxyCodeLine{21 \textcolor{keyword}{template}<\textcolor{keyword}{class} Type>}
\DoxyCodeLine{22 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_utils_1_1_resourceholder}{Resourceholder}}}
\DoxyCodeLine{23 \{}
\DoxyCodeLine{24 \textcolor{keyword}{private}:}
\DoxyCodeLine{25         std::string mPath;}
\DoxyCodeLine{26         std::map<Model::Type, std::shared\_ptr<Type>> mResources;}
\DoxyCodeLine{27 \textcolor{keyword}{public}:}
\DoxyCodeLine{28         \textcolor{keyword}{explicit} \mbox{\hyperlink{struct_utils_1_1_resourceholder}{Resourceholder}}(std::string path) : mPath(std::move(path)) \{\}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30         \mbox{\hyperlink{struct_utils_1_1_resourceholder}{\string~Resourceholder}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{31 }
\DoxyCodeLine{32         \textcolor{keywordtype}{void} insert(\mbox{\hyperlink{namespace_model_a704990bea21287d993439d3bdf1755bf}{Model::Type}} type, \textcolor{keyword}{const} std::string\& subPath)}
\DoxyCodeLine{33         \{}
\DoxyCodeLine{34                 std::shared\_ptr<Type> file = std::make\_shared<Type>();}
\DoxyCodeLine{35                 std::string path = mPath + std::string(subPath);}
\DoxyCodeLine{36 }
\DoxyCodeLine{37                 \textcolor{keywordflow}{if} (!file-\/>loadFromFile(path)) \{}
\DoxyCodeLine{38                         \textcolor{keywordflow}{throw}(\mbox{\hyperlink{class_utils_1_1_file_exception}{FileException}}(path, \textcolor{keyword}{typeid}(file).name()));}
\DoxyCodeLine{39                 \}}
\DoxyCodeLine{40                 mResources.emplace(type, file);}
\DoxyCodeLine{41         \}}
\DoxyCodeLine{42 }
\DoxyCodeLine{43         std::shared\_ptr<Type>\& get(\mbox{\hyperlink{namespace_model_a704990bea21287d993439d3bdf1755bf}{Model::Type}} type) \{ \textcolor{keywordflow}{return} mResources[type]; \}}
\DoxyCodeLine{44 \};}
\DoxyCodeLine{45 }
\DoxyCodeLine{46 \textcolor{keyword}{class }\mbox{\hyperlink{class_utils_1_1_resourcemanager}{Resourcemanager}}}
\DoxyCodeLine{47 \{}
\DoxyCodeLine{48 \textcolor{keyword}{private}:}
\DoxyCodeLine{49         std::shared\_ptr<Resourceholder<sf::Texture>> mTextures;}
\DoxyCodeLine{50         std::shared\_ptr<Resourceholder<sf::Font>> mFonts;}
\DoxyCodeLine{51         std::shared\_ptr<Resourceholder<sf::SoundBuffer>> mSounds;}
\DoxyCodeLine{52 }
\DoxyCodeLine{53         \textcolor{keyword}{explicit} \mbox{\hyperlink{class_utils_1_1_resourcemanager}{Resourcemanager}}(\textcolor{keyword}{const} std::string\& path)}
\DoxyCodeLine{54         \{}
\DoxyCodeLine{55                 mTextures = std::make\_shared<Resourceholder<sf::Texture>>(path);}
\DoxyCodeLine{56                 mFonts = std::make\_shared<Resourceholder<sf::Font>>(path);}
\DoxyCodeLine{57                 mSounds = std::make\_shared<Resourceholder<sf::SoundBuffer>>(path);}
\DoxyCodeLine{58         \}}
\DoxyCodeLine{59 }
\DoxyCodeLine{60 \textcolor{keyword}{public}:}
\DoxyCodeLine{61         \mbox{\hyperlink{class_utils_1_1_resourcemanager}{\string~Resourcemanager}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{62 }
\DoxyCodeLine{63         \mbox{\hyperlink{class_utils_1_1_resourcemanager}{Resourcemanager}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_utils_1_1_resourcemanager}{Resourcemanager}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{64 }
\DoxyCodeLine{65         \mbox{\hyperlink{class_utils_1_1_resourcemanager}{Resourcemanager}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{class_utils_1_1_resourcemanager}{Resourcemanager}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{66 }
\DoxyCodeLine{67         \textcolor{keyword}{static} \mbox{\hyperlink{class_utils_1_1_resourcemanager}{Resourcemanager}}\& getInstance()}
\DoxyCodeLine{68         \{}
\DoxyCodeLine{69                 \textcolor{keyword}{static} \mbox{\hyperlink{class_utils_1_1_resourcemanager}{Resourcemanager}} instance(}
\DoxyCodeLine{70                     \textcolor{stringliteral}{"{}/Users/pablodeputter/Documents/GitHub/Advanced-\/Programming-\/DoodleJump/resource"{}});}
\DoxyCodeLine{71                 \textcolor{keywordflow}{return} instance;}
\DoxyCodeLine{72         \}}
\DoxyCodeLine{73 }
\DoxyCodeLine{74         \textcolor{keywordtype}{void} addTexture(\mbox{\hyperlink{namespace_model_a704990bea21287d993439d3bdf1755bf}{Model::Type}} type, \textcolor{keyword}{const} std::string\& subPath) \{ mTextures-\/>insert(type, subPath); \}}
\DoxyCodeLine{75 }
\DoxyCodeLine{76         \textcolor{keywordtype}{void} addFont(\mbox{\hyperlink{namespace_model_a704990bea21287d993439d3bdf1755bf}{Model::Type}} type, \textcolor{keyword}{const} std::string\& subPath) \{ mFonts-\/>insert(type, subPath); \}}
\DoxyCodeLine{77 }
\DoxyCodeLine{78         \textcolor{keywordtype}{void} addSound(\mbox{\hyperlink{namespace_model_a704990bea21287d993439d3bdf1755bf}{Model::Type}} type, \textcolor{keyword}{const} std::string\& subPath) \{ mSounds-\/>insert(type, subPath); \}}
\DoxyCodeLine{79 }
\DoxyCodeLine{80         [[nodiscard]] \textcolor{keyword}{const} std::shared\_ptr<Resourceholder<sf::Texture>>\& getTextures()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mTextures; \}}
\DoxyCodeLine{81 }
\DoxyCodeLine{82         [[nodiscard]] \textcolor{keyword}{const} std::shared\_ptr<Resourceholder<sf::Font>>\& getFonts()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mFonts; \}}
\DoxyCodeLine{83 }
\DoxyCodeLine{84         [[nodiscard]] \textcolor{keyword}{const} std::shared\_ptr<Resourceholder<sf::SoundBuffer>>\& getSounds()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mSounds; \}}
\DoxyCodeLine{85 \};}
\DoxyCodeLine{86 \} \textcolor{comment}{// namespace Utils}}
\DoxyCodeLine{87 }
\DoxyCodeLine{88 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// DOODLEJUMP\_RESOURCEMANAGER\_H}}

\end{DoxyCode}
