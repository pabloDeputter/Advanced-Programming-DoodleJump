\hypertarget{_resource_manager_8h_source}{}\doxysection{Resource\+Manager.\+h}
\label{_resource_manager_8h_source}\index{game/include/util/ResourceManager.h@{game/include/util/ResourceManager.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//}}
\DoxyCodeLine{2 \textcolor{comment}{// Created by Pablo Deputter on 29/11/2021.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#ifndef DOODLEJUMP\_RESOURCEMANAGER\_H}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#define DOODLEJUMP\_RESOURCEMANAGER\_H}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}model/Entity.h"{}}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}util/Exception.h"{}}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}SFML/Audio.hpp"{}}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}SFML/Graphics.hpp"{}}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <typeinfo>}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include <utility>}}
\DoxyCodeLine{18 }
\DoxyCodeLine{22 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_utils}{Utils}} \{}
\DoxyCodeLine{23 }
\DoxyCodeLine{27 \textcolor{keyword}{enum} \mbox{\hyperlink{namespace_utils_a4694eb8597365f09dc72f9b4bd92bae4}{Type}}}
\DoxyCodeLine{28 \{}
\DoxyCodeLine{29         \textcolor{comment}{// TODO}}
\DoxyCodeLine{30         \textcolor{comment}{// Entities}}
\DoxyCodeLine{31         ePlayer = 0,}
\DoxyCodeLine{32         eBonus,}
\DoxyCodeLine{33         eStatic,}
\DoxyCodeLine{34         eHorizontal,}
\DoxyCodeLine{35         eVertical,}
\DoxyCodeLine{36         eTemporary,}
\DoxyCodeLine{37         eBackground,}
\DoxyCodeLine{38         eJetpack,}
\DoxyCodeLine{39         eSpring,}
\DoxyCodeLine{40         eScore,}
\DoxyCodeLine{41         eCoin,}
\DoxyCodeLine{42         eMenuLogo,}
\DoxyCodeLine{43         eMenuCursor,}
\DoxyCodeLine{44         eMenuHighScores,}
\DoxyCodeLine{45         eMenuInfo,}
\DoxyCodeLine{46         eMenuSettings,}
\DoxyCodeLine{47         eMenuItemBack,}
\DoxyCodeLine{48         eShopCh1,}
\DoxyCodeLine{49         eShopCh2,}
\DoxyCodeLine{50         eShopCh3,}
\DoxyCodeLine{51         eShopBg1,}
\DoxyCodeLine{52         eShopBg2,}
\DoxyCodeLine{53         eShopBg3}
\DoxyCodeLine{54 \};}
\DoxyCodeLine{55 }
\DoxyCodeLine{60 \textcolor{keyword}{template} <\textcolor{keyword}{class} Type>}
\DoxyCodeLine{61 \textcolor{keyword}{class }\mbox{\hyperlink{class_utils_1_1_resource_holder}{ResourceHolder}}}
\DoxyCodeLine{62 \{}
\DoxyCodeLine{63 \textcolor{keyword}{private}:}
\DoxyCodeLine{64         std::string mPath;                                       }
\DoxyCodeLine{65         std::map<Utils::Type, std::shared\_ptr<Type>> mResources; }
\DoxyCodeLine{66 \textcolor{keyword}{public}:}
\DoxyCodeLine{71         \textcolor{keyword}{explicit} \mbox{\hyperlink{class_utils_1_1_resource_holder_aabb15a19e4adfcbc4773df0c8a35f1c5}{ResourceHolder}}(std::string path) : mPath(std::move(path)) \{\}}
\DoxyCodeLine{75         \mbox{\hyperlink{class_utils_1_1_resource_holder_abc99354c40569d3d71d6c9dc2a95f719}{\string~ResourceHolder}}() \{ \mbox{\hyperlink{class_utils_1_1_resource_holder_a8a3c0b08390861eb49cc70017ac04dd5}{clear}}(); \}}
\DoxyCodeLine{81         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_utils_1_1_resource_holder_ac0f82ed5a6139844fdd74bead29ad6de}{insert}}(\mbox{\hyperlink{namespace_utils_a4694eb8597365f09dc72f9b4bd92bae4}{Utils::Type}} type, \textcolor{keyword}{const} std::string\& subPath)}
\DoxyCodeLine{82         \{}
\DoxyCodeLine{83                 std::shared\_ptr<Type> file = std::make\_shared<Type>();}
\DoxyCodeLine{84                 std::string path = mPath + std::string(subPath);}
\DoxyCodeLine{85                 \textcolor{comment}{// If file cannot be loaded -\/-\/> throw exception}}
\DoxyCodeLine{86                 \textcolor{keywordflow}{if} (!file-\/>loadFromFile(path)) \{}
\DoxyCodeLine{87                         \textcolor{keywordflow}{throw}(\mbox{\hyperlink{class_utils_1_1_file_exception}{FileException}}(path, \textcolor{keyword}{typeid}(file).name()));}
\DoxyCodeLine{88                 \}}
\DoxyCodeLine{89                 mResources.emplace(type, file);}
\DoxyCodeLine{90         \}}
\DoxyCodeLine{96         std::shared\_ptr<Type>\& \mbox{\hyperlink{class_utils_1_1_resource_holder_a75051ffdb83d839d17c9b285982d1287}{get}}(\mbox{\hyperlink{namespace_utils_a4694eb8597365f09dc72f9b4bd92bae4}{Utils::Type}} type) \{ \textcolor{keywordflow}{return} mResources[type]; \}}
\DoxyCodeLine{101         [[nodiscard]] std::map<Utils::Type, std::shared\_ptr<Type>>\& \mbox{\hyperlink{class_utils_1_1_resource_holder_af8b291990290eae9ed47c677281c284f}{getResources}}() \{ \textcolor{keywordflow}{return} mResources; \}}
\DoxyCodeLine{105         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_utils_1_1_resource_holder_a8a3c0b08390861eb49cc70017ac04dd5}{clear}}() \{ mResources.clear(); \}}
\DoxyCodeLine{106 \};}
\DoxyCodeLine{107 }
\DoxyCodeLine{111 \textcolor{keyword}{class }\mbox{\hyperlink{class_utils_1_1_resource_manager}{ResourceManager}}}
\DoxyCodeLine{112 \{}
\DoxyCodeLine{113 \textcolor{keyword}{private}:}
\DoxyCodeLine{114         std::shared\_ptr<ResourceHolder<sf::Texture>> mTextures;   }
\DoxyCodeLine{115         std::shared\_ptr<ResourceHolder<sf::Font>> mFonts;         }
\DoxyCodeLine{116         std::shared\_ptr<ResourceHolder<sf::SoundBuffer>> mSounds; }
\DoxyCodeLine{117 \textcolor{keyword}{private}:}
\DoxyCodeLine{122         \textcolor{keyword}{explicit} \mbox{\hyperlink{class_utils_1_1_resource_manager}{ResourceManager}}(\textcolor{keyword}{const} std::string\& path)}
\DoxyCodeLine{123         \{}
\DoxyCodeLine{124                 mTextures = std::make\_shared<ResourceHolder<sf::Texture>>(path);}
\DoxyCodeLine{125                 mFonts = std::make\_shared<ResourceHolder<sf::Font>>(path);}
\DoxyCodeLine{126                 mSounds = std::make\_shared<ResourceHolder<sf::SoundBuffer>>(path);}
\DoxyCodeLine{127         \}}
\DoxyCodeLine{128 }
\DoxyCodeLine{129 \textcolor{keyword}{public}:}
\DoxyCodeLine{133         \mbox{\hyperlink{class_utils_1_1_resource_manager_a8bccc5aa9917ee0bbd1028f3b5a6ed91}{\string~ResourceManager}}() \{ \mbox{\hyperlink{class_utils_1_1_resource_manager_a8150d8f979e5b4bd6c9f07fe09d1f535}{clear}}(); \}}
\DoxyCodeLine{137         \mbox{\hyperlink{class_utils_1_1_resource_manager_a9b626185798cff2e64b47dffe9297c30}{ResourceManager}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_utils_1_1_resource_manager}{ResourceManager}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{142         \mbox{\hyperlink{class_utils_1_1_resource_manager}{ResourceManager}}\& \mbox{\hyperlink{class_utils_1_1_resource_manager_a97aba066a1ffceddd064ae8ef985d6fb}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_utils_1_1_resource_manager}{ResourceManager}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{147         \textcolor{keyword}{static} \mbox{\hyperlink{class_utils_1_1_resource_manager}{ResourceManager}}\& \mbox{\hyperlink{class_utils_1_1_resource_manager_a7a8809ec27403ca1c58944d2d33042cb}{getInstance}}()}
\DoxyCodeLine{148         \{}
\DoxyCodeLine{149                 \textcolor{keyword}{static} \mbox{\hyperlink{class_utils_1_1_resource_manager}{ResourceManager}} instance(\textcolor{stringliteral}{"{}resource"{}});}
\DoxyCodeLine{150                 \textcolor{keywordflow}{return} instance;}
\DoxyCodeLine{151         \}}
\DoxyCodeLine{157         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_utils_1_1_resource_manager_a3f8c9175d1da48d89709f20e1d415ce7}{addTexture}}(\mbox{\hyperlink{namespace_utils_a4694eb8597365f09dc72f9b4bd92bae4}{Utils::Type}} type, \textcolor{keyword}{const} std::string\& subPath) \{ mTextures-\/>insert(type, subPath); \}}
\DoxyCodeLine{163         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_utils_1_1_resource_manager_ad54ad7da02b0702557b650892cc981a1}{addFont}}(\mbox{\hyperlink{namespace_utils_a4694eb8597365f09dc72f9b4bd92bae4}{Utils::Type}} type, \textcolor{keyword}{const} std::string\& subPath) \{ mFonts-\/>insert(type, subPath); \}}
\DoxyCodeLine{169         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_utils_1_1_resource_manager_a68a14be7448795c292933cd707bf0930}{addSound}}(\mbox{\hyperlink{namespace_utils_a4694eb8597365f09dc72f9b4bd92bae4}{Utils::Type}} type, \textcolor{keyword}{const} std::string\& subPath) \{ mSounds-\/>insert(type, subPath); \}}
\DoxyCodeLine{174         [[nodiscard]] \textcolor{keyword}{const} std::shared\_ptr<ResourceHolder<sf::Texture>>\& \mbox{\hyperlink{class_utils_1_1_resource_manager_a3f513bbae6872338cf7b9628ee246ea2}{getTextures}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mTextures; \}}
\DoxyCodeLine{179         [[nodiscard]] \textcolor{keyword}{const} std::shared\_ptr<ResourceHolder<sf::Font>>\& \mbox{\hyperlink{class_utils_1_1_resource_manager_aeb55a5b1c3837f4cd829ef4a11b7e4af}{getFonts}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mFonts; \}}
\DoxyCodeLine{184         [[nodiscard]] \textcolor{keyword}{const} std::shared\_ptr<ResourceHolder<sf::SoundBuffer>>\& \mbox{\hyperlink{class_utils_1_1_resource_manager_af6f9a2ec6391102422b99822e9ceb45c}{getSounds}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mSounds; \}}
\DoxyCodeLine{190         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_utils_1_1_resource_manager_a96ee3cfd9ad0dc4db6d582d4672ad784}{setTexture}}(\mbox{\hyperlink{namespace_utils_a4694eb8597365f09dc72f9b4bd92bae4}{Utils::Type}} type, \mbox{\hyperlink{namespace_utils_a4694eb8597365f09dc72f9b4bd92bae4}{Utils::Type}} toSet)\textcolor{keyword}{ const}}
\DoxyCodeLine{191 \textcolor{keyword}{        }\{}
\DoxyCodeLine{192                 \textcolor{keyword}{auto}\& textures = mTextures-\/>getResources();}
\DoxyCodeLine{193                 textures[toSet] = mTextures-\/>get(type);}
\DoxyCodeLine{194         \}}
\DoxyCodeLine{198         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_utils_1_1_resource_manager_a8150d8f979e5b4bd6c9f07fe09d1f535}{clear}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{199 \textcolor{keyword}{        }\{}
\DoxyCodeLine{200                 mTextures-\/>clear();}
\DoxyCodeLine{201                 mFonts-\/>clear();}
\DoxyCodeLine{202                 mSounds-\/>clear();}
\DoxyCodeLine{203         \}}
\DoxyCodeLine{204 \};}
\DoxyCodeLine{205 \} \textcolor{comment}{// namespace Utils}}
\DoxyCodeLine{206 }
\DoxyCodeLine{207 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// DOODLEJUMP\_RESOURCEMANAGER\_H}}

\end{DoxyCode}
