\hypertarget{_stopwatch_8h_source}{}\doxysection{Stopwatch.\+h}
\label{_stopwatch_8h_source}\index{/Users/pablodeputter/Documents/GitHub/Advanced-\/Programming-\/DoodleJump/engine/include/util/Stopwatch.h@{/Users/pablodeputter/Documents/GitHub/Advanced-\/Programming-\/DoodleJump/engine/include/util/Stopwatch.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//}}
\DoxyCodeLine{2 \textcolor{comment}{// Created by Pablo Deputter on 14/11/2021.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#ifndef ADVANCED\_PROGRAMMING\_DOODLEJUMP\_STOPWATCH\_H}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#define ADVANCED\_PROGRAMMING\_DOODLEJUMP\_STOPWATCH\_H}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}model/Entity.h"{}}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <cfloat>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <chrono>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{keyword}{enum} Type}
\DoxyCodeLine{16 \{}
\DoxyCodeLine{17         ePlayer = 0,}
\DoxyCodeLine{18         eBonus = 1,}
\DoxyCodeLine{19         eStatic = 2,}
\DoxyCodeLine{20         eHorizontal = 3,}
\DoxyCodeLine{21         eVertical = 4,}
\DoxyCodeLine{22         eTemporary = 5,}
\DoxyCodeLine{23         eBackground = 6,}
\DoxyCodeLine{24         eJetpack = 7,}
\DoxyCodeLine{25         eSpring = 8}
\DoxyCodeLine{26 \};}
\DoxyCodeLine{27 }
\DoxyCodeLine{31 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_utils}{Utils}} \{}
\DoxyCodeLine{35 \textcolor{keyword}{class }\mbox{\hyperlink{class_utils_1_1_stopwatch}{Stopwatch}}}
\DoxyCodeLine{36 \{}
\DoxyCodeLine{37 \textcolor{keyword}{private}:}
\DoxyCodeLine{38         std::chrono::high\_resolution\_clock::time\_point mTime; }
\DoxyCodeLine{39         \textcolor{keywordtype}{float} mDeltaTime\{\}; }
\DoxyCodeLine{40         std::map<Type, std::pair<float, std::chrono::high\_resolution\_clock::time\_point>> mTimers;}
\DoxyCodeLine{41 }
\DoxyCodeLine{42 \textcolor{keyword}{public}:}
\DoxyCodeLine{43         std::shared\_ptr<Model::Entity> mPlayer;}
\DoxyCodeLine{44 }
\DoxyCodeLine{48         \mbox{\hyperlink{class_utils_1_1_stopwatch_a728d6bddbc7d2d527918cca24d831905}{Stopwatch}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{49 }
\DoxyCodeLine{50 \textcolor{keyword}{public}:}
\DoxyCodeLine{54         \mbox{\hyperlink{class_utils_1_1_stopwatch_aa35de65d973aeee37c5aca8b43858e1d}{\string~Stopwatch}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{58         \mbox{\hyperlink{class_utils_1_1_stopwatch_aa5fb996ba9294c3fb3b87d2f320caef2}{Stopwatch}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_utils_1_1_stopwatch}{Stopwatch}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{63         \mbox{\hyperlink{class_utils_1_1_stopwatch}{Stopwatch}}\& \mbox{\hyperlink{class_utils_1_1_stopwatch_a779f0703719552fbbd7bacf03329c3e2}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_utils_1_1_stopwatch}{Stopwatch}}\&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{68         \textcolor{keyword}{static} \mbox{\hyperlink{class_utils_1_1_stopwatch}{Stopwatch}}\& \mbox{\hyperlink{class_utils_1_1_stopwatch_ae8cfd6ad5161541a7dc62fe3b3e1ca6b}{getInstance}}();}
\DoxyCodeLine{72         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_utils_1_1_stopwatch_a6d01ecc80c92f1d5210cd9c3eb72883d}{start}}();}
\DoxyCodeLine{77         [[nodiscard]] \textcolor{keywordtype}{float} \mbox{\hyperlink{class_utils_1_1_stopwatch_ab807e758c2d027cc226fefc8b6da5cfb}{lap}}();}
\DoxyCodeLine{82         [[nodiscard]] \textcolor{keywordtype}{float} \mbox{\hyperlink{class_utils_1_1_stopwatch_aa3505e376ec91f705c8a57ec1f605abd}{getDelta}}() \textcolor{keyword}{const};}
\DoxyCodeLine{83 }
\DoxyCodeLine{84         \textcolor{comment}{// TODO -\/ jetpack}}
\DoxyCodeLine{85         \textcolor{keywordtype}{void} addTimer(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} key, \textcolor{keywordtype}{float} amount)}
\DoxyCodeLine{86         \{}
\DoxyCodeLine{87                 std::cout << \textcolor{stringliteral}{"{}addTimer\(\backslash\)n"{}};}
\DoxyCodeLine{88                 \textcolor{keywordflow}{if} (mTimers.find(Type(key)) != std::end(mTimers)) \{}
\DoxyCodeLine{89                         \textcolor{comment}{//                        std::cout << "{}ERROR\(\backslash\)n"{};}}
\DoxyCodeLine{90                 \}}
\DoxyCodeLine{91                 mTimers[Type(key)] = \{amount, std::chrono::high\_resolution\_clock::now()\};}
\DoxyCodeLine{92         \}}
\DoxyCodeLine{93         \textcolor{comment}{//        std::chrono::duration<float> ms\_delta = std::chrono::high\_resolution\_clock::now() -\/ mTime;}}
\DoxyCodeLine{94         \textcolor{comment}{//        // Reset / lap stopwatch}}
\DoxyCodeLine{95         \textcolor{comment}{//        mTime = std::chrono::high\_resolution\_clock::now();}}
\DoxyCodeLine{96         \textcolor{comment}{//        mDeltaTime = ms\_delta.count();}}
\DoxyCodeLine{97         \textcolor{comment}{//        // Return milliseconds as float}}
\DoxyCodeLine{98         \textcolor{comment}{//        return mDeltaTime;}}
\DoxyCodeLine{99         \textcolor{keywordtype}{bool} checkTimer(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} key)}
\DoxyCodeLine{100         \{}
\DoxyCodeLine{101                 \textcolor{keywordflow}{if} (mTimers.find(Type(key)) == std::end(mTimers)) \{}
\DoxyCodeLine{102                         \textcolor{comment}{//                        std::cout << "{}ERROR\(\backslash\)n"{};}}
\DoxyCodeLine{103                         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{104                 \}}
\DoxyCodeLine{105                 \textcolor{keyword}{auto} val = mTimers[Type(key)];}
\DoxyCodeLine{106                 std::chrono::duration<float> ms\_delta = std::chrono::high\_resolution\_clock::now() -\/ val.second;}
\DoxyCodeLine{107                 std::cout << ms\_delta.count() << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{108                 \textcolor{keywordflow}{if} (ms\_delta.count() > val.first) \{}
\DoxyCodeLine{109                         mTimers.erase(Type(key));}
\DoxyCodeLine{110                         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{111                 \}}
\DoxyCodeLine{112                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{113         \}}
\DoxyCodeLine{114 \};}
\DoxyCodeLine{115 \} \textcolor{comment}{// namespace Utils}}
\DoxyCodeLine{116 }
\DoxyCodeLine{117 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// ADVANCED\_PROGRAMMING\_DOODLEJUMP\_STOPWATCH\_H}}

\end{DoxyCode}
